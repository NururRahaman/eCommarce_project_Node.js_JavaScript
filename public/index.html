<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eCommerce Website</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f2f2f2;
        }
        header {
            background-color: #333;
            color: #fff;
            padding: 10px;
            text-align: center;
        }
        .container {
            width: 80%;
            margin: 20px auto;
        }
        .product {
            border: 1px solid #ccc;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 20px;
            background-color: #fff;
        }
        .product img {
            max-width: 300px;
            max-height: 300px;
        }
        .cart {
            float: right;
            background-color: #fcfcfc;
            color: #000000;
            padding: 10px;
            border-radius: 5px;
            margin: -110px 0px 0px 0px;
            font-weight: bold;
        }
        .product{
            width: 30%;
            margin-left: 5px;
            float: left;

        }
        .checkout{
            float: right;
            background-color: #fcfcfc;
            margin: -70px -22px 0px 0px;
            padding: 10px;
            border-radius: 5px;
  
        }
        .checkout a{    
            text-decoration: none;
            font-weight: bold;
            color: #000000;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <h1>eBook Gallery</h1>
    </header>
    <div class="container">
        <div class="cart" id="cart">
            Cart: 0
        </div>
        <div class="checkout">
            <a href="cart.html">Checkout</a>
        </div>


        <div class="product" id="product1">
            <a href="product_1.html">
                <img src="image/img-1.jpg" alt="Product 1">
            </a>
            <h2>The Unfinished Memoirs</h2>
            <h4>Writer-Sheikh Mujibur Rahman</h4>
            <h4>Quantity Available</h4>
            <p>Price=$100</p>
            <div>
                <button onclick="decreaseQuantity('quantity-product1')">-</button>
                <span id="quantity-product1">1</span>
                <button onclick="increaseQuantity('quantity-product1')">+</button>
                <button onclick="addToCart('The Unfinished Memoirs', 100, 'quantity-product1', 'image/img-1.jpg')">Add to Cart</button>
            </div>
        </div>
        <div class="product" id="product2">
               <a href="product_2.html">
                <img src="image/img-2.jpg" alt="Product 2">
                </a>
                <h2>RICH DAD POOR DAD</h2>
                <h4>Writer-Robert T. Kiyosaki</h4>
                <h4>Quantity Available</h4>
                <p>Price=$80</p>
                <div>
                    <button onclick="decreaseQuantity('quantity-product2')">-</button>
                    <span id="quantity-product2">1</span>
                    <button onclick="increaseQuantity('quantity-product2')">+</button>
                    <button onclick="addToCart('RICH DAD POOR DAD', 80, 'quantity-product2', 'image/img-2.jpg')">Add to Cart</button>
                </div>
        </div>
        <div class="product" id="product3">
            <a href="product_3.html">
                <img src="image/img-4.jpg" alt="Product 3"></a>
                <h2>The Secend World War</h2>
                <h4>Writer-Winston S. Churchill</h4>
                <h4>Quantity Available</h4>
                <p>Price=$120</p>
                <div>
                    <button onclick="decreaseQuantity('quantity-product3')">-</button>
                    <span id="quantity-product3">1</span>
                    <button onclick="increaseQuantity('quantity-product3')">+</button>
                    <button onclick="addToCart('The Secend World War', 120, 'quantity-product3', 'image/img-4.jpg')">Add to Cart</button>
                </div>
        </div>

        <div class="product" id="product4">
            <a href="product_4.html">
                <img src="image/img-5.jpg" alt="Product 4"></a>
                <h2>Bisher Bashi</h2>
                <h4>Writer-Kazi Nazrul Islam</h4>
                <h4>Quantity Available</h4>
                <p>Price=$80</p>
                <div>
                    <button onclick="decreaseQuantity('quantity-product4')">-</button>
                    <span id="quantity-product4">1</span>
                    <button onclick="increaseQuantity('quantity-product4')">+</button>
                    <button onclick="addToCart('Bisher Bashi', 80, 'quantity-product4', 'image/img-5.jpg')">Add to Cart</button>
                </div>
        </div>

        <div class="product" id="product5">
            <a href="product_5.html">
                <img src="image/img-6.jpg" alt="Product 5"></a>
                <h2>Shesher Kabita</h2>
                <h4>Writer-Rabindranath Tagore</h4>
                <h4>Quantity Available</h4>
                <p>Price=$150</p>
                <div>
                    <button onclick="decreaseQuantity('quantity-product5')">-</button>
                    <span id="quantity-product5">1</span>
                    <button onclick="increaseQuantity('quantity-product5')">+</button>
                    <button onclick="addToCart('Shesher Kabita', 150, 'quantity-product5', 'image/img-6.jpg')">Add to Cart</button>
                </div>
        </div>

        <div class="product" id="product6">
            <a href="product_6.html">
                <img src="image/img-7.jpg" alt="Product 6"></a>
                <h2>Himu Shamagra</h2>
                <h4>Writer-Humayun Ahmed</h4>
                <h4>Quantity Available</h4>
                <p>Price=$99</p>
                <div>
                    <button onclick="decreaseQuantity('quantity-product6')">-</button>
                    <span id="quantity-product6">1</span>
                    <button onclick="increaseQuantity('quantity-product6')">+</button>
                    <button onclick="addToCart('Himu Shamagra', 99, 'quantity-product6', 'image/img-7.jpg" ')">Add to Cart</button>
                </div>
        </div>

    </div>
    
    <script>
        let cartCount = 0;

        function addToCart( productName, price, quantityId, imageSrc) {
            let quantity = parseInt(document.getElementById(quantityId).innerText);
            cartCount += quantity;
            document.getElementById('cart').innerText = 'Cart: ' + cartCount;
            alert(quantity + ' ' + productName + '(s) added to cart. Total: $' + (quantity * price));

            // Retrieve existing cart items from localStorage or initialize an empty array
            let cartItems = JSON.parse(localStorage.getItem('cart')) || [];
            
            // Check if the product is already in the cart
            let existingItem = cartItems.find(item => item.name === productName);
            if (existingItem) {
                // If the product is already in the cart, increase its quantity
                existingItem.quantity += quantity;
            } else {
                // If the product is not in the cart, add it with the selected quantity
                cartItems.push({ name: productName, price: price, quantity: quantity, imageSrc: imageSrc });
            }

            // Store the updated cart back to localStorage
            localStorage.setItem('cart', JSON.stringify(cartItems));
        }

        function increaseQuantity(quantityId) {
            let quantityElement = document.getElementById(quantityId);
            let currentQuantity = parseInt(quantityElement.innerText);
            quantityElement.innerText = currentQuantity + 1;
        }

        function decreaseQuantity(quantityId) {
            let quantityElement = document.getElementById(quantityId);
            let currentQuantity = parseInt(quantityElement.innerText);
            if (currentQuantity > 1) {
                quantityElement.innerText = currentQuantity - 1;
            }
        }

    </script>
</body>
</html>
